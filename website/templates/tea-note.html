
{% extends "base.html" %} {% block title %}Detailed Tea Note{% endblock %}
{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

차이름 : {{ note.teaname }}
판매처 : {{ note.saler }}
원산지 : {{ note.country }}
차종류 : {{ note.type_of_tea }}
무게(g) : {{ note.tea_quatity }}
온도(℃) : {{ note.tea_temprature }}
시간(초) : {{ note.tea_brew_time }}
평점: {{ note.grade }}




<div class="charts">    
    <div class="chart-item">
        <p class="chart-title"> 맛</p>
        <div class="chart-element"><canvas  id="taste_chart"></canvas></div>        
    </div>
    <div class="chart-item">
        <p class="chart-title"> 향</p>
        <div class="chart-element"><canvas  id="perfume_chart"></canvas></div>        
    </div>
    
</div>
{% endblock %}

{% block javascript %}
{{ super() }}
{% set taste_data = [note.t1, note.t2, note.t3, note.t4, note.t5, note.t6, note.t7, note.t8, note.t9, note.t10, note.t11, note.t12] %}
{% set perfume_data = [note.p1, note.p2, note.p3, note.p4, note.p5, note.p6, note.p7, note.p8, note.p9, note.p10, note.p11, note.p12] %}
<script>
    const ctx = document.getElementById('taste_chart');
    const ctx2 = document.getElementById('perfume_chart');

    const tasteChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['풍부함', '기름짐', '훈연', '균형', '불쾌감', '후미', '수렴성', '매운맛', '신맛', '쓴맛', '짠맛', '단맛'],
            datasets: [{
                label: '맛',
                data: {{ taste_data }},
                borderWidth: 1
                }]
            },
        options: {            
            scales: {
                r: {
                    angleLines: {
                        display: true
                        },                    
                    grid:{circular: true},
                    ticks: {stepSize:1},
                    suggestedMin: 1,
                    suggestedMax: 10
                    }
                },            
            plugins: {
                legend:{
                    display: false,
                    }    
                }
            }
        }
    );

    const perfumeChart = new Chart(ctx2, {
        type: 'radar',
        data: {
            labels: ['식물향', '바다향', '우유향', '꽃향', '토양향', '목재향', '과일향', '탄향', '동물향', '광물향', '단향', '매운향'],
            datasets: [{
                label: '향',
                data: {{ perfume_data }},
                borderWidth: 1
                }]
            },
        options: {            
            scales: {
                r: {
                    angleLines: {
                        display: true
                        },                    
                    grid:{circular: true},
                    ticks: {stepSize:1},
                    suggestedMin: 1,
                    suggestedMax: 10
                    }
                },
            plugins: {
                legend:{
                    display: false,
                    }    
                }           
            }
        }
    );


  </script>
  {% endblock %}
  {% block style %}
  {{ super() }}
  <style>
    .charts {
        display: flex;
        text-align: center;
        flex-direction: row;
        align-items: center;
        
        justify-content: space-around;
    }
    .chart-item {
        flex: none;
        width: 30%;
        height: 30%;
    }
    .chart-item .child {
        justify-items: center;
        align-items: center;
    }
  </style>
  {% endblock %}
